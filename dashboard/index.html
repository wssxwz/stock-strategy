<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ“Š æŠ•èµ„å†³ç­–å¹³å°</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#0f172a;--card:#1e293b;--border:#334155;--accent:#3b82f6;--green:#22c55e;--red:#ef4444;--gold:#f59e0b;--text:#f1f5f9;--muted:#94a3b8}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);min-height:100vh}

/* â”€â”€ é¡¶éƒ¨ Header â”€â”€ */
.header{background:var(--card);border-bottom:1px solid var(--border);padding:16px 24px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
.header h1{font-size:20px;font-weight:700}
.header .subtitle{font-size:12px;color:var(--muted);margin-top:2px}
.stats-row{display:flex;gap:16px}
.stat-pill{background:#0f172a;border-radius:20px;padding:6px 16px;text-align:center}
.stat-num{font-size:20px;font-weight:700;color:var(--accent)}
.stat-lbl{font-size:11px;color:var(--muted)}

/* â”€â”€ Tabs â”€â”€ */
.tabs{display:flex;gap:4px;padding:16px 24px 0;background:var(--card);border-bottom:1px solid var(--border);overflow-x:auto}
.tab-btn{padding:10px 18px;background:none;border:none;border-bottom:3px solid transparent;color:var(--muted);cursor:pointer;font-size:14px;font-weight:500;white-space:nowrap;transition:.2s}
.tab-btn:hover{color:var(--text)}
.tab-btn.active{color:var(--accent);border-bottom-color:var(--accent)}

/* â”€â”€ å†…å®¹åŒº â”€â”€ */
.content{padding:24px;max-width:1400px;margin:0 auto}
.tab-panel{display:none}
#panel-overview{display:block}

/* â”€â”€ å¡ç‰‡é€šç”¨ â”€â”€ */
.card{background:var(--card);border-radius:12px;padding:20px;border:1px solid var(--border)}

/* å“åº”å¼ SVGï¼ˆç”¨äºææƒ§è´ªå©ªæŒ‡å—é’ˆç­‰ï¼‰ */
.svg-responsive{width:100%;height:auto;max-width:240px;display:block}
@media(max-width:900px){.svg-responsive{max-width:220px}}
@media(max-width:500px){.svg-responsive{max-width:260px}}
.card-title{font-size:13px;color:var(--muted);margin-bottom:14px;text-transform:uppercase;letter-spacing:.5px;font-weight:600}

/* â”€â”€ æ¦‚è§ˆ â”€â”€ */
.overview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}
.core-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:24px}
.core-card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:16px;text-align:center}
.core-ticker{font-size:17px;font-weight:800}
.core-ticker-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.core-date{font-size:11px;color:var(--muted)}
.core-price-big{font-size:22px;font-weight:700;margin-bottom:4px}
.core-change{font-size:14px;font-weight:600;margin-bottom:6px}
.core-meta{font-size:11px;color:var(--muted);margin-bottom:4px}
.core-earn{font-size:11px;color:var(--gold);margin-top:6px;font-weight:600}
.core-price{font-size:15px;color:var(--green)}
.core-score{font-size:12px;color:var(--muted)}
.core-placeholder{font-size:12px;color:var(--muted)}

/* â”€â”€ æ—¶é—´çº¿ â”€â”€ */
.timeline-item{display:flex;gap:14px;padding:12px 0;border-bottom:1px solid var(--border);cursor:pointer}
.timeline-item:hover{background:rgba(255,255,255,.02)}
.timeline-dot{width:10px;height:10px;border-radius:50%;background:var(--accent);flex-shrink:0;margin-top:6px}
.timeline-dot.morning_brief{background:#f59e0b}
.timeline-dot.deep_analysis{background:#3b82f6}
.timeline-dot.buy_signal{background:#22c55e}
.timeline-dot.evening_review{background:#8b5cf6}
.timeline-dot.exit_alert{background:#ef4444}
.timeline-body{flex:1;min-width:0}
.timeline-header{display:flex;justify-content:space-between;font-size:14px;font-weight:600;margin-bottom:4px}
.timeline-preview{font-size:13px;color:var(--muted);line-height:1.4}
.timeline-time{font-size:12px;color:var(--muted);flex-shrink:0;margin-left:8px}

/* â”€â”€ ä¿¡å·å¡ç‰‡ â”€â”€ */
.signals-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px}
.sig-card{background:var(--card);border-radius:12px;padding:18px;border:1px solid var(--border);border-left:4px solid var(--accent);transition:transform .2s}
.sig-card:hover{transform:translateY(-2px)}
.sig-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;gap:8px;flex-wrap:wrap}
.sig-ticker{font-size:24px;font-weight:800;margin-right:8px}
.score-badge{display:inline-block;padding:3px 10px;border-radius:12px;font-size:13px;font-weight:700;color:#fff}
.badge{display:inline-block;padding:2px 8px;border-radius:6px;font-size:11px;font-weight:600}
.badge.green{background:rgba(34,197,94,.2);color:var(--green)}
.badge.red{background:rgba(239,68,68,.2);color:var(--red)}
.badge.gold{background:rgba(245,158,11,.2);color:var(--gold)}
.sig-prices{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:12px}
.price-item{background:#0f172a;border-radius:8px;padding:8px 10px}
.price-label{font-size:11px;color:var(--muted);margin-bottom:2px}
.price-val{font-size:15px;font-weight:700}
.price-val.green{color:var(--green)}
.price-val.red{color:var(--red)}
.fs20{font-size:20px}
.sig-indicators{font-size:13px;color:var(--muted);margin-bottom:10px}
.sig-note{font-size:12px;color:var(--accent);margin-top:4px}
.sig-time{font-size:11px;color:var(--muted);margin-bottom:10px}
.sig-actions{display:flex;gap:8px}
.sig-taken{font-size:13px;color:var(--green);padding:8px 0}

/* â”€â”€ æŒ‰é’® â”€â”€ */
.btn-success{flex:1;padding:9px;background:var(--green);color:#fff;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer}
.btn-success:hover{background:#16a34a}
.btn-danger{flex:1;padding:9px;background:var(--red);color:#fff;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer}
.btn-danger:hover{background:#b91c1c}
.btn-outline{flex:1;padding:9px;background:transparent;border:1px solid var(--border);color:var(--text);border-radius:8px;font-size:13px;cursor:pointer}
.btn-outline:hover{border-color:var(--accent)}
.btn-primary{padding:10px 20px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;width:100%}
.btn-primary:hover{background:#2563eb}

/* â”€â”€ è¿‡æ»¤å™¨ â”€â”€ */
.filters{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center}
.filters select,.filters input{padding:8px 12px;background:var(--card);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:13px}
.filter-label{font-size:13px;color:var(--muted)}

/* â”€â”€ å†å² â”€â”€ */
.hist-group{margin-bottom:24px}
.hist-date{font-size:13px;font-weight:700;color:var(--accent);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border)}
.hist-item{display:flex;justify-content:space-between;align-items:flex-start;padding:12px;border-radius:10px;margin-bottom:8px;background:#0f172a;cursor:pointer;transition:.15s}
.hist-item:hover{background:#1a2744}
.hist-left{display:flex;gap:12px;flex:1;min-width:0}
.hist-icon{font-size:20px;flex-shrink:0}
.hist-title{font-size:14px;font-weight:600;margin-bottom:4px}
.hist-time{font-size:12px;color:var(--muted);flex-shrink:0;margin-left:8px}

/* â”€â”€ è®¾ç½® â”€â”€ */
.kb-block{margin-bottom:20px}
.kb-row{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border);font-size:14px}
.kb-label{color:var(--muted)}
.kb-val{font-weight:600}
textarea{width:100%;height:180px;padding:12px;background:#0f172a;border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:13px;font-family:inherit;resize:vertical}
.import-result{margin-top:12px;padding:10px;background:#0f172a;border-radius:8px;font-size:13px}
.section-title{font-size:16px;font-weight:700;margin-bottom:16px}
.danger-zone{display:flex;gap:12px;flex-wrap:wrap}
.btn-danger-outline{padding:10px 20px;background:transparent;border:1px solid var(--red);color:var(--red);border-radius:8px;font-size:13px;cursor:pointer}
.btn-danger-outline:hover{background:rgba(239,68,68,.1)}
.section-sep{border:none;border-top:1px solid var(--border);margin:24px 0}

/* â”€â”€ å¼¹çª— â”€â”€ */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);justify-content:center;align-items:center;z-index:1000}
.modal-box{background:var(--card);border-radius:16px;padding:28px;width:90%;max-width:460px}
.modal-title{font-size:18px;font-weight:700;margin-bottom:20px}
.form-group{margin-bottom:14px}
.form-group label{display:block;font-size:13px;color:var(--muted);margin-bottom:5px}
.form-group input{width:100%;padding:10px;background:#0f172a;border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:14px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.modal-actions{display:flex;gap:10px;margin-top:20px}

/* â”€â”€ ç©ºçŠ¶æ€ â”€â”€ */
.empty-msg{text-align:center;padding:48px 20px;color:var(--muted);font-size:14px}

/* â”€â”€ å¸‚åœºå¿«ç…§ â”€â”€ */
.mkt-snapshot{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.mkt-card .mkt-row{display:flex;justify-content:space-between;font-size:13px;padding:5px 0;border-bottom:1px solid var(--border)}
.mkt-card .mkt-row:last-child{border:none}
.mkt-name{color:var(--muted)}
.mkt-val{font-weight:600}
.mkt-val.up{color:var(--green)}
.mkt-val.dn{color:var(--red)}
@media(max-width:900px){.mkt-snapshot{grid-template-columns:repeat(2,1fr)}}
@media(max-width:500px){.mkt-snapshot{grid-template-columns:1fr}}

/* â”€â”€ ç»æµæ—¥å† Banner â”€â”€ */
.cal-banner{background:var(--card);border:1px solid var(--border);border-radius:14px;margin-bottom:22px;overflow:hidden}
.cal-ev{cursor:pointer;transition:.15s}
.cal-ev:hover{background:rgba(59,130,246,.08)}
.cal-ev.earnings:hover{border-left:3px solid var(--accent)}
.cal-banner-header{display:flex;align-items:center;gap:12px;padding:14px 20px;border-bottom:1px solid var(--border)}
.cal-banner-title{font-size:15px;font-weight:700}
.cal-banner-sub{font-size:12px;color:var(--muted);flex:1}
.cal-toggle{background:none;border:1px solid var(--border);color:var(--muted);border-radius:6px;padding:4px 10px;font-size:12px;cursor:pointer}
.cal-toggle:hover{border-color:var(--accent);color:var(--accent)}
.cal-scroll{overflow-x:auto;padding:16px 20px}
.cal-days{display:flex;gap:14px;min-width:max-content}
.cal-day{background:#0f172a;border-radius:10px;padding:12px 14px;min-width:170px;max-width:220px}
.cal-day.today{border:1px solid var(--accent)}
.cal-day-label{font-size:12px;font-weight:700;color:var(--accent);margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.cal-day-label .today-tag{background:var(--accent);color:#fff;border-radius:4px;padding:1px 6px;font-size:10px}
.cal-ev{display:flex;gap:8px;padding:7px 0;border-bottom:1px solid var(--border);align-items:flex-start}
.cal-ev:last-child{border:none}
.cal-ev-emoji{font-size:15px;flex-shrink:0;margin-top:1px}
.cal-ev-body{flex:1;min-width:0}
.cal-ev-name{font-size:13px;font-weight:600;line-height:1.3}
.cal-ev-note{font-size:11px;color:var(--muted);margin-top:2px}
.cal-ev-tag{font-size:10px;font-weight:700;padding:1px 6px;border-radius:4px;display:inline-block;margin-top:3px}
.cal-ev-tag.core{background:rgba(245,158,11,.2);color:var(--gold)}
.cal-ev-tag.watch{background:rgba(59,130,246,.2);color:var(--accent)}
.cal-ev-tag.macro{background:rgba(139,92,246,.2);color:#a78bfa}
.cal-ev-tag.fomc{background:rgba(239,68,68,.2);color:var(--red)}
.imp5{border-left:3px solid var(--red)}
.imp4{border-left:3px solid var(--gold)}
.imp3{border-left:3px solid var(--border)}
.cal-hidden .cal-scroll{display:none}

/* â”€â”€ å‘¨æŠ¥ â”€â”€ */
.weekly-item{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:12px;cursor:pointer;transition:.15s}
.weekly-item:hover{border-color:var(--accent)}
.weekly-item.active{border-color:var(--accent);background:#1e3a5f}
.wr-section{margin-bottom:22px}
.wr-section-title{font-size:14px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border)}
.wr-item{font-size:14px;padding:8px 0;border-bottom:1px solid var(--border);line-height:1.5;color:#cbd5e1}
.wr-item:last-child{border:none}
.mood-badge-wr{padding:8px 20px;border-radius:30px;font-weight:700;font-size:16px}
.mood-badge-wr.bullish{background:#1a4731;color:var(--green)}
.mood-badge-wr.bearish{background:#4a1919;color:var(--red)}
.mood-badge-wr.neutral{background:#3a3000;color:var(--gold)}
.badge.bullish{background:rgba(34,197,94,.15);color:var(--green)}
.badge.bearish{background:rgba(239,68,68,.15);color:var(--red)}
.badge.neutral{background:rgba(245,158,11,.15);color:var(--gold)}
.badge.warning{background:rgba(245,158,11,.15);color:var(--gold)}

/* â”€â”€ æŒä»“éƒ¨åˆ†æ ‡é¢˜ â”€â”€ */
.sub-title{font-size:15px;font-weight:600;margin:24px 0 14px;color:var(--muted)}

/* â”€â”€ PIN é”å± â”€â”€ */
#pos-lock-screen{display:flex;justify-content:center;align-items:center;min-height:60vh}
.lock-box{text-align:center;background:var(--card);border:1px solid var(--border);border-radius:20px;padding:40px 36px;max-width:320px;width:100%}
.pin-dots{display:flex;justify-content:center;gap:14px;margin-bottom:28px}
.pin-dots span{width:14px;height:14px;border-radius:50%;background:var(--border);transition:.2s}
.pin-dots span.filled{background:var(--accent)}
.pin-pad{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;max-width:220px;margin:0 auto}
.pin-btn{padding:16px;background:#0f172a;border:1px solid var(--border);border-radius:12px;color:var(--text);font-size:20px;font-weight:700;cursor:pointer;transition:.15s}
.pin-btn:hover{background:var(--accent);border-color:var(--accent)}
.pin-clear{font-size:16px;color:var(--muted)}
.pin-ok{background:var(--accent);border-color:var(--accent)}

/* â”€â”€ æŒä»“å†…å®¹ â”€â”€ */
.pos-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px;flex-wrap:wrap;gap:12px}
.pos-stat{text-align:center;background:#0f172a;border-radius:10px;padding:10px 16px}
.pos-stat-val{font-size:18px;font-weight:700}
.pos-stat-lbl{font-size:11px;color:var(--muted);margin-top:2px}

/* â”€â”€ æŒä»“è¡¨æ ¼ â”€â”€ */
.pos-table-wrap{overflow-x:auto}
.pos-table-el{width:100%;border-collapse:collapse;font-size:13px}
.pos-table-el th{color:var(--muted);font-weight:500;padding:8px 12px;text-align:right;border-bottom:1px solid var(--border);white-space:nowrap}
.pos-table-el th:first-child{text-align:left}
.pos-table-el td{padding:12px 12px;border-bottom:1px solid var(--border);text-align:right;vertical-align:middle}
.pos-table-el td:first-child{text-align:left}
.pos-table-el tr:hover td{background:rgba(255,255,255,.02)}
.pos-ticker-cell{display:flex;flex-direction:column}
.pos-ticker-name{font-size:15px;font-weight:700}
.pos-ticker-sub{font-size:11px;color:var(--muted);margin-top:2px}
.pos-pnl-up{color:var(--green);font-weight:700}
.pos-pnl-dn{color:var(--red);font-weight:700}
.pos-bar-wrap{display:flex;align-items:center;gap:6px}
.pos-bar{height:4px;border-radius:2px;min-width:4px}
.pos-options-tag{font-size:10px;background:rgba(245,158,11,.15);color:var(--gold);padding:2px 6px;border-radius:4px;display:inline-block;margin-top:2px}

/* â”€â”€ æŒä»“è¯Šæ–­ â”€â”€ */
.diag-section{background:linear-gradient(135deg,#1e293b,#0f2040);border:1px solid #334155;border-radius:14px;padding:20px;margin-bottom:20px}
.diag-header{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:10px}
.diag-title{font-size:16px;font-weight:700;margin-bottom:4px}
.diag-sub{font-size:12px;color:var(--muted)}
.diag-health-badge{padding:6px 16px;border-radius:20px;font-size:13px;font-weight:700}
.diag-health-badge.bullish{background:rgba(34,197,94,.2);color:var(--green);border:1px solid var(--green)}
.diag-health-badge.neutral{background:rgba(245,158,11,.2);color:var(--gold);border:1px solid var(--gold)}
.diag-health-badge.bearish{background:rgba(239,68,68,.2);color:var(--red);border:1px solid var(--red)}
.diag-stat{background:rgba(255,255,255,.05);border-radius:10px;padding:10px 16px;text-align:center;min-width:80px}
.diag-stat-val{font-size:20px;font-weight:700}
.diag-stat-lbl{font-size:11px;color:var(--muted);margin-top:2px}
.diag-macro-item{font-size:13px;padding:8px 12px;border-radius:8px;margin-bottom:6px;background:rgba(255,255,255,.04)}
.diag-stock-row{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:.15s}
.diag-stock-row:hover{background:rgba(255,255,255,.03);padding-left:6px}
.diag-stock-row:last-child{border:none}
.diag-score-ring{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:800;flex-shrink:0}
.diag-action-tag{padding:3px 8px;border-radius:5px;font-size:11px;font-weight:700;flex-shrink:0}
.diag-action-tag.bullish{background:rgba(34,197,94,.2);color:var(--green)}
.diag-action-tag.neutral{background:rgba(245,158,11,.2);color:var(--gold)}
.diag-action-tag.caution{background:rgba(245,158,11,.3);color:#fb923c}
.diag-action-tag.bearish{background:rgba(239,68,68,.2);color:var(--red)}
.diag-stock-detail{background:#0f172a;border-radius:10px;padding:14px;margin:4px 0 10px 56px;font-size:13px;display:none}
.diag-signal{padding:5px 0;border-bottom:1px solid var(--border);color:#cbd5e1;line-height:1.5}
.diag-signal:last-child{border:none}
.diag-signal.bullish::before{content:'âœ… '}
.diag-signal.bearish::before{content:'ğŸ”» '}
.diag-signal.warning::before{content:'âš ï¸ '}
.diag-signal.caution::before{content:'ğŸ’¡ '}
.diag-signal.neutral::before{content:'ğŸ“Š '}

/* â”€â”€ æ—¶æ®µç­›é€‰æŒ‰é’® â”€â”€ */
.session-btns{display:flex;gap:4px}
.session-btn{padding:5px 12px;background:#0f172a;border:1px solid var(--border);border-radius:6px;color:var(--muted);font-size:12px;font-weight:600;cursor:pointer;transition:.15s}
.session-btn:hover{border-color:var(--accent);color:var(--accent)}
.session-btn.active{background:var(--accent);border-color:var(--accent);color:#fff}
.session-btn.now-highlight{border-color:var(--gold);color:var(--gold)} /* å½“å‰æ—¶æ®µé«˜äº® */
.session-btn.now-highlight.active{background:var(--gold);color:#000}

@media(max-width:600px){
  .core-grid{grid-template-columns:repeat(2,1fr)}
  .stats-row{gap:8px}
  .stat-pill{padding:4px 10px}
  .stat-num{font-size:16px}
}
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div>
    <h1>ğŸ“Š æŠ•èµ„å†³ç­–å¹³å°</h1>
    <div class="subtitle">å¥³ç‹ä¸“å± Â· è‡ªåŠ¨æ¨é€ Â· å®æ—¶è¿½è¸ª</div>
  </div>
  <div class="stats-row">
    <div class="stat-pill"><div class="stat-num" id="stat-signals">0</div><div class="stat-lbl">ä»Šæ—¥ä¿¡å·</div></div>
    <div class="stat-pill"><div class="stat-num" id="stat-positions">0</div><div class="stat-lbl">æŒä»“ä¸­</div></div>
    <div class="stat-pill"><div class="stat-num" id="stat-winrate">--%</div><div class="stat-lbl">èƒœç‡</div></div>
  </div>
</div>

<!-- Tabs -->
<div class="tabs">
  <button class="tab-btn active" data-tab="overview">ğŸ  ä»Šæ—¥æ¦‚è§ˆ</button>
  <button class="tab-btn" data-tab="signals">ğŸ“¡ ä¿¡å·åˆ—è¡¨</button>
  <button class="tab-btn" data-tab="positions">ğŸ’¼ æˆ‘çš„æŒä»“</button>
  <button class="tab-btn" data-tab="history">ğŸ“œ æ¨é€å†å²</button>
  <button class="tab-btn" data-tab="weekly">ğŸ“… å‘¨æœ«æ€»ç»“</button>
  <button class="tab-btn" data-tab="settings">âš™ï¸ è®¾ç½®</button>
</div>

<!-- å†…å®¹åŒº -->
<div class="content">

  <!-- Tab: ä»Šæ—¥æ¦‚è§ˆ -->
  <div class="tab-panel" id="panel-overview">

    <!-- ç»æµæ—¥å† â€” æœ¬å‘¨é‡è¦äº‹ä»¶ -->
    <div class="cal-banner" id="cal-banner">
      <div class="cal-banner-header">
        <span class="cal-banner-title">ğŸ“… æœ¬å‘¨é‡è¦äº‹ä»¶</span>
        <span class="cal-banner-sub" id="cal-sub">åŠ è½½ä¸­...</span>
        <button class="cal-toggle" onclick="toggleCalendar()">æ”¶èµ· â–²</button>
      </div>
      <div class="cal-scroll" id="cal-scroll">
        <!-- æŒ‰æ—¥æœŸåˆ†åˆ— -->
        <div class="cal-days" id="cal-days">
          <div class="empty-msg" style="padding:20px">åŠ è½½ä¸­...</div>
        </div>
      </div>
    </div>

    <!-- å¸‚åœºå¿«ç…§ -->
    <div class="mkt-snapshot" id="mkt-snapshot" style="display:none">
      <div class="card mkt-card">
        <div class="card-title">ğŸ“Š æ˜¨å¤œæ”¶ç›˜</div>
        <div id="mkt-indices"></div>
      </div>
      <div class="card mkt-card">
        <div class="card-title">ğŸ›¢ï¸ å¤§å®—å•†å“</div>
        <div id="mkt-commodities"></div>
      </div>
      <div class="card mkt-card">
        <div class="card-title">ğŸ—‚ï¸ æ¿å—å¼ºå¼±</div>
        <div id="mkt-sectors"></div>
      </div>
      <div class="card mkt-card" style="text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px 12px">
        <div style="font-size:12px;font-weight:600;color:var(--muted);letter-spacing:.05em;margin-bottom:6px">ææƒ§ â† æƒ…ç»ªæ¸©åº¦è®¡ â†’ è´ªå©ª</div>

        <!--
          270Â° ä»ªè¡¨ç›˜ï¼ˆBï¼š5åŒºé—´æ ‡ç­¾ï¼‰
          ç»Ÿä¸€å‡ ä½•ï¼šåœ†å¿ƒ(100,120) r=100ï¼ŒviewBox 0 0 200 120
          å¼§(large-arc=1,sweep=1)ï¼šä» 225Â° å·¦ä¸‹ â†’ é¡ºæ—¶é’ˆ270Â° â†’ 315Â° å³ä¸‹
          å¼§é•¿ = 2Ï€rÃ—270/360 â‰ˆ 471.24
          æŒ‡é’ˆï¼švalue=0â†’-135Â°, 50â†’0Â°, 100â†’135Â°
        -->
        <svg id="fg-gauge" class="svg-responsive" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet" style="overflow:hidden">
          <defs>
            <linearGradient id="fg-grad" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%"   stop-color="#ef4444"/>
              <stop offset="25%"  stop-color="#f97316"/>
              <stop offset="50%"  stop-color="#eab308"/>
              <stop offset="75%"  stop-color="#84cc16"/>
              <stop offset="100%" stop-color="#22c55e"/>
            </linearGradient>
            <filter id="needle-glow">
              <feGaussianBlur stdDeviation="1.6" result="blur"/>
              <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>

          <!-- èƒŒæ™¯è½¨é“ -->
          <path d="M 29.29 49.29 A 100 100 0 1 1 170.71 49.29"
            fill="none" stroke="#1e293b" stroke-width="13" stroke-linecap="round"/>

          <!-- å½©è‰²è¿›åº¦å¼§ -->
          <path id="fg-fill"
            d="M 29.29 49.29 A 100 100 0 1 1 170.71 49.29"
            fill="none" stroke="url(#fg-grad)" stroke-width="13" stroke-linecap="round"
            stroke-dasharray="471.24 471.24" stroke-dashoffset="471.24"/>

          <!-- åŒºé—´åˆ»åº¦ï¼š25/45/55/75 -->
          <line x1="0" y1="-92" x2="0" y2="-106" stroke="#0f172a" stroke-width="2.5"
            transform="translate(100,120) rotate(-67.5)"/>
          <line x1="0" y1="-92" x2="0" y2="-106" stroke="#0f172a" stroke-width="2.5"
            transform="translate(100,120) rotate(-13.5)"/>
          <line x1="0" y1="-92" x2="0" y2="-106" stroke="#0f172a" stroke-width="2.5"
            transform="translate(100,120) rotate(13.5)"/>
          <line x1="0" y1="-92" x2="0" y2="-106" stroke="#0f172a" stroke-width="2.5"
            transform="translate(100,120) rotate(67.5)"/>

          <!-- 5åŒºé—´æ ‡ç­¾ï¼ˆä¸ºé¿å…æº¢å‡ºï¼Œç«¯éƒ¨ä¸¤æ ‡ç­¾å†…æ”¶ï¼‰ -->
          <text x="20"  y="92" font-size="9" fill="#ef4444" text-anchor="middle" font-weight="800">ææ</text>
          <text x="40"  y="40" font-size="9" fill="#f97316" text-anchor="middle" font-weight="800">ææƒ§</text>
          <text x="100" y="18" font-size="9" fill="#eab308" text-anchor="middle" font-weight="800">ä¸­æ€§</text>
          <text x="160" y="40" font-size="9" fill="#84cc16" text-anchor="middle" font-weight="800">è´ªå©ª</text>
          <text x="180" y="92" font-size="9" fill="#22c55e" text-anchor="middle" font-weight="800">æè´ª</text>

          <!-- æŒ‡é’ˆ -->
          <g id="fg-needle" transform="translate(100,120) rotate(-135)" filter="url(#needle-glow)">
            <polygon points="0,-90 -4,0 4,0" fill="#f1f5f9" opacity="0.95"/>
          </g>

          <!-- åœ†å¿ƒè½´å¸½ -->
          <circle cx="100" cy="120" r="7" fill="#1e293b" stroke="#475569" stroke-width="2"/>
          <circle cx="100" cy="120" r="3" fill="#94a3b8"/>

          <!-- ä¸­å¿ƒæ•°å€¼/æ ‡ç­¾ -->
          <text id="fg-value-text" x="100" y="82" font-size="26" font-weight="900"
            fill="#f8fafc" text-anchor="middle">--</text>
          <text id="fg-label-text" x="100" y="100" font-size="10"
            fill="#94a3b8" text-anchor="middle">åŠ è½½ä¸­...</text>
        </svg>

        <div id="mkt-fg-emoji" style="font-size:20px;margin-top:-4px">ğŸ˜</div>
        <div id="mkt-fg-label" style="display:none">--</div>
        <div id="mkt-fg-val"   style="display:none">ææƒ§è´ªå©ªæŒ‡æ•°</div>
      </div>
    </div>

    <div class="core-grid" id="core-holdings"></div>
    <div class="overview-grid">
      <div class="card">
        <div class="card-title">â­ æ ¸å¿ƒæŒä»“åŠ¨æ€</div>
        <div id="core-holdings-detail"><div class="empty-msg" style="padding:20px">ä»ä¿¡å·ä¸­è‡ªåŠ¨è¯»å–</div></div>
      </div>
      <div class="card">
        <div class="card-title">ğŸ• ä»Šæ—¥æ¨é€æ—¶é—´çº¿</div>
        <div id="today-timeline"><div class="empty-msg" style="padding:20px">æš‚æ— ä»Šæ—¥æ¨é€</div></div>
      </div>
    </div>
  </div>

  <!-- Tab: ä¿¡å·åˆ—è¡¨ -->
  <div class="tab-panel" id="panel-signals">
    <div class="filters">
      <span class="filter-label">ç±»å‹:</span>
      <select id="filter-type">
        <option value="all">å…¨éƒ¨</option>
        <option value="buy">ä¹°å…¥</option>
        <option value="exit">å–å‡º</option>
      </select>
      <span class="filter-label">æœ€ä½è¯„åˆ†:</span>
      <input type="number" id="filter-score" placeholder="0" min="0" max="100" style="width:70px">
      <input type="text" id="filter-q" placeholder="æœç´¢è‚¡ç¥¨ä»£ç ..." style="width:160px">
    </div>
    <div class="signals-grid" id="signals-grid"></div>
  </div>

  <!-- Tab: æˆ‘çš„æŒä»“ -->
  <div class="tab-panel" id="panel-positions">
        <!-- é”å±å±‚ -->
    <div id="pos-lock-screen">
      <div class="lock-box">
        <div style="font-size:40px;margin-bottom:16px">ğŸ”’</div>
        <div style="font-size:18px;font-weight:700;margin-bottom:8px">ç§äººæŒä»“</div>
        <div style="font-size:13px;color:var(--muted);margin-bottom:24px">è¾“å…¥ PIN ç æŸ¥çœ‹ï¼Œæ•°æ®ä»…å­˜æœ¬åœ°</div>
        <div class="pin-dots" id="pin-dots">
          <span></span><span></span><span></span><span></span>
        </div>
        <div class="pin-pad">
          <button class="pin-btn" onclick="pinInput('1')">1</button>
          <button class="pin-btn" onclick="pinInput('2')">2</button>
          <button class="pin-btn" onclick="pinInput('3')">3</button>
          <button class="pin-btn" onclick="pinInput('4')">4</button>
          <button class="pin-btn" onclick="pinInput('5')">5</button>
          <button class="pin-btn" onclick="pinInput('6')">6</button>
          <button class="pin-btn" onclick="pinInput('7')">7</button>
          <button class="pin-btn" onclick="pinInput('8')">8</button>
          <button class="pin-btn" onclick="pinInput('9')">9</button>
          <button class="pin-btn pin-clear" onclick="pinClear()">âŒ«</button>
          <button class="pin-btn" onclick="pinInput('0')">0</button>
          <button class="pin-btn pin-ok" onclick="pinConfirm()">âœ“</button>
        </div>
        <div id="pin-msg" style="font-size:12px;color:var(--red);margin-top:12px;height:20px"></div>
        <button onclick="showPinSetup()" style="margin-top:16px;background:none;border:none;color:var(--muted);font-size:12px;cursor:pointer;text-decoration:underline">
          é¦–æ¬¡ä½¿ç”¨ï¼Ÿè®¾ç½® PIN
        </button>
      </div>
    </div>

    <!-- æŒä»“å†…å®¹å±‚ï¼ˆè§£é”åæ˜¾ç¤ºï¼‰-->
    <div id="pos-content" style="display:none">
        <!-- è¯Šæ–­åˆ†æåŒºå—ï¼ˆPIN è§£é”åå¯è§ï¼‰ -->
      <div class="diag-section" id="diag-section">
        <div class="diag-header">
          <div>
            <div class="diag-title">ğŸ” æŒä»“è¯Šæ–­åˆ†æ</div>
            <div class="diag-sub" id="diag-updated">åŠ è½½ä¸­...</div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="diag-health-badge" id="diag-health-badge"></div>
            <button class="btn-outline" style="padding:6px 12px;font-size:12px" id="diag-toggle-btn" onclick="toggleDiagDetail()">ä¸ªè‚¡è¯¦æƒ… â–¼</button>
          </div>
        </div>
        <div id="diag-overview-row" style="display:flex;gap:12px;flex-wrap:wrap;margin:14px 0 10px"></div>
        <div id="diag-macro" style="margin-bottom:10px"></div>
        <div id="diag-detail" style="display:none">
          <div style="font-size:12px;color:var(--muted);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border)">ä¸ªè‚¡è¯Šæ–­è¯„åˆ†ï¼ˆç‚¹å‡»å±•å¼€è¯¦æƒ…ï¼‰</div>
          <div id="diag-stocks-list"></div>
        </div>
      </div>

<!-- è´¦æˆ·æ¦‚è§ˆ -->
      <div class="pos-header">
        <div class="pos-account-info">
          <div style="font-size:14px;color:var(--muted)">ğŸ“Š FUTU HK Â· ä¿è¯é‡‘ç»¼åˆè´¦æˆ·(1978)</div>
          <div id="pos-summary" style="display:flex;gap:20px;margin-top:10px;flex-wrap:wrap"></div>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <button class="btn-outline" style="padding:7px 14px;font-size:12px" onclick="syncPosFromYF()">ğŸ”„ åˆ·æ–°ä»·æ ¼</button>
          <button class="btn-outline" style="padding:7px 14px;font-size:12px" onclick="lockPositions()">ğŸ”’ é”å®š</button>
        </div>
      </div>

      <!-- æ’åº/è¿‡æ»¤ -->
      <div class="filters" style="margin-bottom:16px;flex-wrap:wrap;gap:10px">
        <span class="filter-label">æ’åº:</span>
        <select id="pos-sort" onchange="renderPositionsTab()">
          <option value="pnl_pct">ç›ˆäº%</option>
          <option value="pnl_abs">ç›ˆäºé¢</option>
          <option value="market_val">å¸‚å€¼</option>
          <option value="ticker">ä»£ç </option>
        </select>
        <span class="filter-label">æŒä»“:</span>
        <select id="pos-filter" onchange="renderPositionsTab()">
          <option value="all">å…¨éƒ¨</option>
          <option value="profit">ç›ˆåˆ©</option>
          <option value="loss">äºæŸ</option>
        </select>
        <span class="filter-label">æ—¶æ®µ:</span>
        <div class="session-btns" id="session-btns">
          <button class="session-btn active" data-session="all"    onclick="setSessionFilter('all')">å…¨éƒ¨</button>
          <button class="session-btn"        data-session="pre"    onclick="setSessionFilter('pre')">ç›˜å‰</button>
          <button class="session-btn"        data-session="market" onclick="setSessionFilter('market')">ç›˜ä¸­</button>
          <button class="session-btn"        data-session="after"  onclick="setSessionFilter('after')">ç›˜å</button>
        </div>
        <span id="session-now-label" style="font-size:12px;color:var(--muted)"></span>
      </div>

      <!-- æŒä»“åˆ—è¡¨ -->
      <div id="pos-table"></div>

      <!-- é”å®šåçš„ä¿¡å·æŒä»“ï¼ˆå†å²ï¼‰ -->
      <div class="sub-title" style="margin-top:24px">ğŸ“œ ä¿¡å·è®°å½•æŒä»“ï¼ˆå†å²ï¼‰</div>
      <div class="signals-grid" id="closed-grid"></div>
    </div>
  </div>

  <!-- Tab: æ¨é€å†å² -->
  <div class="tab-panel" id="panel-history">
    <div id="history-list"><div class="empty-msg">æš‚æ— æ¨é€å†å²</div></div>
  </div>

  <!-- Tab: å‘¨æœ«æ€»ç»“ -->
  <div class="tab-panel" id="panel-weekly">
    <!-- å†å²å‘¨æŠ¥åˆ—è¡¨ï¼ˆå·¦ï¼‰ + å½“å‰å†…å®¹ï¼ˆå³ï¼‰ -->
    <div style="display:grid;grid-template-columns:220px 1fr;gap:20px">
      <div>
        <div class="card-title" style="margin-bottom:12px">ğŸ“‹ å†å²å‘¨æŠ¥</div>
        <div id="weekly-list" style="display:flex;flex-direction:column;gap:8px"></div>
      </div>
      <div class="card" id="weekly-content">
        <div class="empty-msg">â† é€‰æ‹©ä¸€ä»½å‘¨æŠ¥æŸ¥çœ‹</div>
      </div>
    </div>
  </div>

  <!-- Tab: è®¾ç½® -->
  <div class="tab-panel" id="panel-settings">
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px">

      <!-- çŸ¥è¯†åº“é…ç½®å±•ç¤º -->
      <div class="card">
        <div class="section-title">ğŸ“‹ ä¸ªäººçŸ¥è¯†åº“</div>
        <div class="kb-block">
          <div class="kb-row"><span class="kb-label">æ ¸å¿ƒæŒä»“</span><span class="kb-val">TSLA Â· GOOGL Â· NVDA Â· META</span></div>
          <div class="kb-row"><span class="kb-label">å…³æ³¨æ¿å—</span><span class="kb-val" style="text-align:right;max-width:200px">ç§‘æŠ€ Â· åŠå¯¼ä½“ Â· AI Â· èƒ½æº Â· å¤ªç©º Â· é™æ¯ Â· æ¶ˆè´¹ Â· åŒ»è¯</span></div>
          <div class="kb-row"><span class="kb-label">æœ€å¤§å›æ’¤</span><span class="kb-val">50%</span></div>
          <div class="kb-row"><span class="kb-label">æ­¢ç›ˆç›®æ ‡</span><span class="kb-val">+13%</span></div>
          <div class="kb-row"><span class="kb-label">æ­¢æŸä½</span><span class="kb-val">-8%</span></div>
          <div class="kb-row"><span class="kb-label">ç›ˆäºæ¯”</span><span class="kb-val">1.62 : 1</span></div>
          <div class="kb-row"><span class="kb-label">åˆ†æå‘¨æœŸ</span><span class="kb-val">1Hä¿¡å· + æ—¥çº¿è¶‹åŠ¿</span></div>
        </div>
      </div>

      <!-- å¯¼å…¥ä¿¡å· -->
      <div class="card">
        <div class="section-title">ğŸ“¥ å¯¼å…¥ä¿¡å·</div>
        <p style="font-size:13px;color:var(--muted);margin-bottom:12px">ç²˜è´´ Telegram æ¨é€çš„ä¿¡å·å†…å®¹ï¼Œè‡ªåŠ¨è§£æä¿å­˜</p>
        <textarea id="import-text" placeholder="ç²˜è´´ä¿¡å·å†…å®¹..."></textarea>
        <button class="btn-primary" style="margin-top:12px" onclick="parseAndImport()">è§£æå¹¶å¯¼å…¥</button>
        <div class="import-result" id="import-result"></div>
      </div>

      <!-- å±é™©æ“ä½œ -->
      <div class="card">
        <div class="section-title">ğŸ—‘ï¸ æ•°æ®ç®¡ç†</div>
        <p style="font-size:13px;color:var(--muted);margin-bottom:16px">æ¸…ç©ºæœ¬åœ°å­˜å‚¨æ•°æ®ï¼ˆä¸å¯æ¢å¤ï¼‰</p>
        <div class="danger-zone">
          <button class="btn-danger-outline" onclick="if(confirm('ç¡®è®¤æ¸…ç©ºæ‰€æœ‰ä¿¡å·ï¼Ÿ'))localStorage.removeItem('signals'),renderSignals(),updateStats()">æ¸…ç©ºä¿¡å·</button>
          <button class="btn-danger-outline" onclick="if(confirm('ç¡®è®¤æ¸…ç©ºæŒä»“æ•°æ®ï¼Ÿ'))localStorage.removeItem('positions'),renderPositions(),updateStats()">æ¸…ç©ºæŒä»“</button>
          <button class="btn-danger-outline" onclick="if(confirm('ç¡®è®¤æ¸…ç©ºæ¨é€å†å²ï¼Ÿ'))localStorage.removeItem('push_history'),renderHistory()">æ¸…ç©ºå†å²</button>
        </div>
      </div>

    </div>
  </div>

</div><!-- /content -->

<!-- è´¢æŠ¥è¯¦æƒ…å¼¹çª— -->
<div class="modal" id="modal-earnings">
  <div class="modal-box" style="max-width:560px">
    <div class="modal-title">ğŸ“‹ <span id="earn-ticker"></span> è´¢æŠ¥è¯¦æƒ…</div>
    <div id="earn-content"></div>
    <div class="modal-actions">
      <button type="button" class="btn-outline" style="flex:1" onclick="closeEarningsModal()">å…³é—­</button>
    </div>
  </div>
</div>

<!-- å¼€ä»“å¼¹çª— -->
<div class="modal" id="modal">
  <div class="modal-box">
    <div class="modal-title">ğŸ’¼ è®°å½•å¼€ä»“ â€” <span id="modal-ticker-show"></span></div>
    <form id="trade-form">
      <input type="hidden" id="modal-ticker">
      <input type="hidden" id="modal-sigid">
      <div class="form-row">
        <div class="form-group">
          <label>å®é™…ä¹°å…¥ä»·</label>
          <input type="number" step="0.01" id="modal-price" required>
        </div>
        <div class="form-group">
          <label>å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰</label>
          <input type="text" id="modal-note" placeholder="ç­–ç•¥å¤‡æ³¨...">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>æ­¢ç›ˆç›®æ ‡</label>
          <input type="number" step="0.01" id="modal-tp" required>
        </div>
        <div class="form-group">
          <label>æ­¢æŸä½</label>
          <input type="number" step="0.01" id="modal-sl" required>
        </div>
      </div>
      <div class="modal-actions">
        <button type="submit" class="btn-success" style="flex:1">âœ… ç¡®è®¤å¼€ä»“</button>
        <button type="button" class="btn-outline" style="flex:0 0 80px" onclick="closeModal()">å–æ¶ˆ</button>
      </div>
    </form>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
